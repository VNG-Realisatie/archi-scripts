/**
 * Create GEMMA bedrijfsobjectenmodel gebaseerd op GGM
 * 
 * draai stap updateRelationsIv3
 */

load("include-ggm-gemma.js");
const FOLDER_NAME = "Bedrijfsobjecten";

initConsoleLog(__FILE__, true);

const REALIZATION_LABEL = "realiseert bedrijfsobject";

let businessObjectFolder = getFolder("Business", FOLDER_NAME);
let relationsBusinessObjectFolder = getFolder("Relations", FOLDER_NAME);
let relationsIv3Folder = getFolder("Relations", "Domein iv3");

let selectedObjects = getSelection($(selection), "data-object");
let businessObjectsColl = $();
let dataObjectColl = $();
let relationColl = $();

// updateBusinessObjects(selectedObjects, businessObjectFolder, relationFolder, dataObjectColl, businessObjectsColl);
// appendSuffix(businessObjectsColl);
// updateRelationsBusinessObject(dataObjectColl, relationsBusinessObjectFolder, relationColl);

updateRelationBeleidsdomein(selectedObjects, relationsIv3Folder, relationColl);

console.log(`> from ${selectedObjects.size()} data-objects`);
console.log(`> ${businessObjectsColl.size()} business-objects  and`);
console.log(`> ${relationColl.size()} relations between business-objects created`);

finishConsoleLog();
